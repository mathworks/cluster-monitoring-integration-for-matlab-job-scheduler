{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__elements": {},
  "__requires": [
    {
      "type": "panel",
      "id": "alertlist",
      "name": "Alert list",
      "version": ""
    },
    {
      "type": "panel",
      "id": "barchart",
      "name": "Bar chart",
      "version": ""
    },
    {
      "type": "panel",
      "id": "bargauge",
      "name": "Bar gauge",
      "version": ""
    },
    {
      "type": "panel",
      "id": "gauge",
      "name": "Gauge",
      "version": ""
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "11.0.0"
    },
    {
      "type": "panel",
      "id": "piechart",
      "name": "Pie chart",
      "version": ""
    },
    {
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "status-history",
      "name": "Status history",
      "version": ""
    },
    {
      "type": "panel",
      "id": "text",
      "name": "Text",
      "version": ""
    },
    {
      "type": "panel",
      "id": "timeseries",
      "name": "Time series",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 3,
      "panels": [],
      "title": "Get Started",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 0,
        "y": 1
      },
      "id": 1,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Dashboard Overview\n\nThis dashboard provides live cluster monitoring and alerts for your MJS cluster.\n\n## Rows\n\nInformation is organized into collapsible rows.  Each row has a title that describes the type or purpose of the information contained in the row. This should make it quick and easy to navigate to the information relevant to you.\n\n## Visualizations\n\nWithin each row is a collection of visualizations. These visualizations show information about the cluster in one of the following ways:\n - over a period of time (controlled by Grafana's *time picker* in the top right of the dashboard)\n - at one instant of time (corresponding to the *end* of the selected time period)\n - right now (alerts only)\n\nYou can see the time associated with each visualization by hovering over the `ⓘ` icon near the title.\n\n## Users\n\nSome visualizations can be configured to display information for a subset of cluster users.  You can identify these visualizations by looking for an `[All]` tag in their title. To change the subset of users displayed, click the `User` dropdown in the top left of the dashboard and select one or more users.  The visualizations should automatically update to reflect the subset of users selected.",
        "mode": "markdown"
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "",
          "instant": false,
          "range": true,
          "refId": "A"
        }
      ],
      "type": "text"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 12,
        "y": 1
      },
      "id": 2,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Data & Metrics\n\nHere is a description of each section of the dashboard and the information contained within it.\n\n## Alerts\n\nReal-time issues affecting the operation of a cluster.  Alerts are categorized as follows:\n- High severity: You should take immediate action (e.g. the cluster is unusable for one or more users)\n- Medium severity: You probably need to take action soon (e.g. the cluster might become unusable otherwise)\n- Low severity: You do not need to take action but doing so can improve the operation of the cluster\n\nEach alert can be expanded to see a more detailed explanation of its importance and the conditions that triggered it.  Where possible, alerts suggest other visualizations in the dashboard that can assist further investigation.\n\n## Summary\n\nA high-level summary of cluster statistics from the more detailed sections below. You can use this section together with the Alerts section to get a quick overview of the cluster's health *right now*, including whether the cluster is up, how many workers and jobs it has, who is using it, and how much disk space and network traffic it is using.\n\n## Usage\n\nInformation about the overall cluster utilization (including license usage) by users over time. Most information about jobs and tasks is contained in this section, including the number of jobs and tasks by state, their queue times, their running durations, and when they were created, submitted, started, and finished.\n\n## Auditing\n\nRecords of the cumulative cluster time spent for the time period selected in Grafana, broken down by user, MATLAB version, and job type.  This information can be useful for auditing purposes like seeing how much the cluster is being used, retrospective billing by user or group, and determining which versions of MATLAB and/or job types are actually being used.\n\n## Process\n\nInformation about the uptime, number of restarts, and memory consumption of the job manager process.\n\n## Scheduler\n\nDetailed information about the core scheduling components of the job manager, including the worker pool, job queue, scheduler, and task dispatcher.  Most of the information of this section is primarily useful for diagnosing cluster issues but can also be used to gain insights into whether the cluster is operating smoothly and efficiently.\n\n## Storage\n\nInformation about how much disk space and disk activity the job manager is using and generating, respectively. Disk usage can be broken down by user and data type for diagnosing excessive usage while tracking of the low-level database operations and cache can be used to detect strange usage patterns or performance issues.\n\n## Communication\n\nInformation about data transfer to/from the job manager and the number and type of incoming/outgoing network calls. Data transfer rates and the number of network calls can give a sense of how much load the job manager is putting on the network while the low-level network calls being made can highlight strange usage patterns or performance issues.\n\n## Security\n\nInformation about the security settings of the job manager and user activity associated with sensitive cluster operations that require authentication and authorization.",
        "mode": "markdown"
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "",
          "instant": false,
          "range": true,
          "refId": "A"
        }
      ],
      "type": "text"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 11
      },
      "id": 4,
      "panels": [],
      "title": "Alerts",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 12
      },
      "id": 5,
      "options": {
        "alertInstanceLabelFilter": "{instance=~\"$jobmanager\",severity=\"high\"}",
        "alertName": "",
        "dashboardAlerts": false,
        "groupBy": [],
        "groupMode": "default",
        "maxItems": 99,
        "sortOrder": 3,
        "stateFilter": {
          "error": true,
          "firing": true,
          "noData": false,
          "normal": false,
          "pending": false
        },
        "viewMode": "list"
      },
      "title": "High Severity",
      "type": "alertlist"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 12
      },
      "id": 6,
      "options": {
        "alertInstanceLabelFilter": "{instance=~\"$jobmanager\",severity=\"medium\"}",
        "alertName": "",
        "dashboardAlerts": false,
        "groupBy": [],
        "groupMode": "default",
        "maxItems": 99,
        "sortOrder": 3,
        "stateFilter": {
          "error": true,
          "firing": true,
          "noData": false,
          "normal": false,
          "pending": false
        },
        "viewMode": "list"
      },
      "title": "Medium Severity",
      "type": "alertlist"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 12
      },
      "id": 7,
      "options": {
        "alertInstanceLabelFilter": "{instance=~\"$jobmanager\",severity=\"low\"}",
        "alertName": "",
        "dashboardAlerts": false,
        "groupBy": [],
        "groupMode": "default",
        "maxItems": 99,
        "sortOrder": 3,
        "stateFilter": {
          "error": true,
          "firing": true,
          "noData": false,
          "normal": false,
          "pending": false
        },
        "viewMode": "list"
      },
      "title": "Low Severity",
      "type": "alertlist"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 8,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "red",
                      "index": 1,
                      "text": "DOWN"
                    },
                    "1": {
                      "color": "green",
                      "index": 0,
                      "text": "UP"
                    }
                  },
                  "type": "value"
                }
              ],
              "max": 1,
              "min": 0,
              "noValue": "DOWN",
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "red",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "green",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 21
          },
          "id": 9,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "status"
            }
          ],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 1,
              "min": 0,
              "noValue": "⠀",
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "red",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "green",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 6,
            "y": 21
          },
          "id": 10,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "((sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=\"busy\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=\"busy\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))) / clamp_min((sum(mjs_workers{instance=~\"$jobmanager\", type=\"max\"})) or (((sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=~\"busy|idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=~\"busy|idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})))), 1)",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "utilization"
            }
          ],
          "title": "Cluster Utilization",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "busy"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "idle"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "pending"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "id": 11,
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "always",
            "stacking": "none",
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=\"busy\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=\"busy\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": true,
              "legendFormat": "busy",
              "range": false,
              "refId": "busy"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=\"idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=\"idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": true,
              "legendFormat": "idle",
              "range": false,
              "refId": "idle"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "clamp_min(sum(mjs_workers{instance=~\"$jobmanager\",type=\"max\"}) - ((sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=~\"busy|idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=~\"busy|idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))), 0)",
              "hide": false,
              "instant": true,
              "legendFormat": "pending",
              "range": false,
              "refId": "pending"
            }
          ],
          "title": "Workers",
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 29
          },
          "id": 12,
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "always",
            "stacking": "none",
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"pending\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"pending\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": true,
              "legendFormat": "pending",
              "range": false,
              "refId": "pending"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"queued\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"queued\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": true,
              "legendFormat": "queued",
              "range": false,
              "refId": "queued"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"running\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"running\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": true,
              "legendFormat": "running",
              "range": false,
              "refId": "running"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"finished\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"finished\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": true,
              "legendFormat": "finished",
              "range": false,
              "refId": "finished"
            }
          ],
          "title": "Jobs [$user]",
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "other"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "lt",
                    "reducer": "allValues",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "-1": {
                            "index": 0,
                            "text": "⠀"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "⠀"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 29
          },
          "id": 13,
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "always",
            "stacking": "none",
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk($top, clamp_max(sum by (user) (mjs_matlab_processes{instance=~\"$jobmanager\",user=~\"$user\"}) > 0, 200))\nor (-1 * absent(topk($top, clamp_max(sum by (user) (mjs_matlab_processes{instance=~\"$jobmanager\",user=~\"$user\"}) > 0, 200))) and sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": true,
              "legendFormat": "{{user}}",
              "range": false,
              "refId": "top"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(clamp_max(sum by (user) (mjs_matlab_processes{instance=~\"$jobmanager\",user=~\"$user\"}) > 0, 200) unless topk($top, clamp_max(sum by (user) (mjs_matlab_processes{instance=~\"$jobmanager\",user=~\"$user\"}) > 0, 200))) > 0",
              "hide": false,
              "instant": true,
              "legendFormat": "other",
              "range": false,
              "refId": "other"
            }
          ],
          "title": "Licenses in Use [$user]",
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "noValue": "⠀",
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 50
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 37
          },
          "id": 14,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "/^Total$/",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (type) (mjs_storage{instance=~\"$jobmanager\"})",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "data"
            }
          ],
          "title": "Job Manager Disk Usage",
          "transformations": [
            {
              "id": "calculateField",
              "options": {
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "database",
                    "job_history",
                    "large_object_files",
                    "logs"
                  ],
                  "reducer": "sum"
                }
              }
            }
          ],
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Size",
                "axisPlacement": "auto",
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "other"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "lt",
                    "reducer": "allValues",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "-1": {
                            "index": 0,
                            "text": "⠀"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "⠀"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 6,
            "y": 37
          },
          "id": 15,
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "always",
            "stacking": "none",
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "# NOTE: Filter out users with 0 bytes used\ntopk($top, sum by (user) (mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\"}) > 0) or (-1 * absent(topk($top, sum by (user) (mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\"}) > 0)) and sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": true,
              "legendFormat": "{{user}}",
              "range": false,
              "refId": "top"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(sum by (user) (mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\"}) > 0 unless topk($top, sum by (user) (mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\"}) > 0)) > 0",
              "hide": false,
              "instant": true,
              "legendFormat": "other",
              "range": false,
              "refId": "other"
            }
          ],
          "title": "User Data [$user]",
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "fieldMinMax": true,
              "mappings": [],
              "noValue": "⠀",
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 18,
            "y": 37
          },
          "id": 16,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "round(sum(rate(mjs_data_transfer_total{instance=~\"$jobmanager\",type=\"upload\"}[$__rate_interval]))) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "upload",
              "range": true,
              "refId": "upload"
            }
          ],
          "title": "Upload",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "fieldMinMax": true,
              "mappings": [],
              "noValue": "⠀",
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 18,
            "y": 41
          },
          "id": 17,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "round(sum(rate(mjs_data_transfer_total{instance=~\"$jobmanager\",type=\"download\"}[$__rate_interval]))) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "download",
              "range": true,
              "refId": "download"
            }
          ],
          "title": "Download",
          "type": "stat"
        }
      ],
      "title": "Summary",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 18,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Percent",
                "axisPlacement": "auto",
                "axisSoftMax": 100,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "max": 1,
              "min": 0,
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "red",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "green",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 46
          },
          "id": 19,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=\"busy\"}) - sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=\"busy\"})) / clamp_min((sum(mjs_workers{instance=~\"$jobmanager\", type=\"max\"})) or ((sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=~\"busy|idle\"}) - sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=~\"busy|idle\"}))), 1) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "utilization",
              "range": true,
              "refId": "utilization"
            }
          ],
          "title": "Cluster Utilization",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "red",
                    "value": null
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "green",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 46
          },
          "id": 20,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"finished\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "job",
              "range": true,
              "refId": "job"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",to=\"finished\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task",
              "range": true,
              "refId": "task"
            }
          ],
          "title": "Throughput [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 54
          },
          "id": 21,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "# NOTE: Include any users that have checked out a license since the job manager started (up to that point in time) so that they don't first appear non-zero the first time they use a license. However, we still filter the user out if they are all 0 license use over the range\nclamp_max(sum by (user) (mjs_matlab_processes{instance=~\"$jobmanager\",user=~\"$user\"}), 200) or 0 * sum by (user) (mjs_users{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "licenses"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Licenses in Use [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 54
          },
          "id": 22,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (user) ((1 * mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"} or 0 * mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"} offset $__interval + last_over_time(mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d])) - (1 * mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"} offset $__interval or 0 * mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"}) or last_over_time(mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d]) unless last_over_time(mjs_license_errors_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] offset $__interval)) or 0 * sum by (user) (mjs_users{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "{{user}}",
              "range": true,
              "refId": "all"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "License Failures [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 62
          },
          "id": 23,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"pending\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"pending\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": false,
              "legendFormat": "pending",
              "range": true,
              "refId": "pending"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"queued\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"queued\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "queued",
              "range": true,
              "refId": "queued"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"running\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"running\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "running",
              "range": true,
              "refId": "running"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",to=\"finished\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",from=\"finished\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "finished",
              "range": true,
              "refId": "finished"
            }
          ],
          "title": "Jobs [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Count",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "queued"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 62
          },
          "id": 24,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",to=\"pending\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",from=\"pending\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": false,
              "legendFormat": "pending",
              "range": true,
              "refId": "pending"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",to=\"queued\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",from=\"queued\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "queued",
              "range": true,
              "refId": "queued"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",to=\"running\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",from=\"running\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "running",
              "range": true,
              "refId": "running"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",to=\"finished\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_work_unit_state_transitions_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",from=\"finished\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "finished",
              "range": true,
              "refId": "finished"
            }
          ],
          "title": "Tasks [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "1.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "15.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 15 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "60.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 min"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "900.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 15 min"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "3600.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 hour"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "21600.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 6 hour"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "86400.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 day"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "604800.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 week"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "+Inf"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "more"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 70
          },
          "id": 25,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showUnfilled": false,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (le) (1 * mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"}[999d] @ ${__to:date:seconds})) - sum by (le) (1 * mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"}[999d]))",
              "format": "heatmap",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "times"
            }
          ],
          "title": "Job Queue Times [$user]",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "1.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "15.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 15 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "60.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 min"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "900.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 15 min"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "3600.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 hour"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "21600.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 6 hour"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "86400.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 day"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "604800.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 week"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "+Inf"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "more"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 70
          },
          "id": 26,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showUnfilled": false,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (le) (1 * mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"}[999d] @ ${__to:date:seconds})) - sum by (le) (1 * mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_work_unit_queue_times_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"}[999d]))",
              "format": "heatmap",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "times"
            }
          ],
          "title": "Task Queue Times [$user]",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "1.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "60.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 min"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "3600.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 hour"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "86400.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 day"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "604800.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 week"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "2592000.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 month"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "3.1536E7"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 year"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "+Inf"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "more"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 78
          },
          "id": 27,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showUnfilled": false,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (le) (1 * mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"}[999d] @ ${__to:date:seconds})) - sum by (le) (1 * mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\"}[999d]))",
              "format": "heatmap",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "times"
            }
          ],
          "title": "Job Running Durations [$user]",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "1.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "60.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 min"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "3600.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 hour"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "86400.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 day"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "604800.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 week"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "2592000.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 month"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "3.1536E7"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 year"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "+Inf"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "more"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 78
          },
          "id": 28,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showUnfilled": false,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (le) (1 * mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"}[999d] @ ${__to:date:seconds})) - sum by (le) (1 * mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_work_unit_durations_bucket{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\"}[999d]))",
              "format": "heatmap",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "times"
            }
          ],
          "title": "Task Running Durations [$user]",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 86
          },
          "id": 29,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"created\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "created",
              "range": true,
              "refId": "created"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"submitted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "submitted",
              "range": true,
              "refId": "submitted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"started\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "started",
              "range": true,
              "refId": "started"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"finished\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "finished",
              "range": true,
              "refId": "finished"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"errored\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "errored",
              "range": true,
              "refId": "errored"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"canceled\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "canceled",
              "range": true,
              "refId": "canceled"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"failed\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "failed",
              "range": true,
              "refId": "failed"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"restarted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "restarted",
              "range": true,
              "refId": "restarted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"job\",event=\"deleted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "deleted",
              "range": true,
              "refId": "deleted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Job Events [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 86
          },
          "id": 30,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"created\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "created",
              "range": true,
              "refId": "created"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"submitted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "submitted",
              "range": true,
              "refId": "submitted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"started\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "started",
              "range": true,
              "refId": "started"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"finished\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "finished",
              "range": true,
              "refId": "finished"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"errored\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "errored",
              "range": true,
              "refId": "errored"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"canceled\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "canceled",
              "range": true,
              "refId": "canceled"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"failed\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "failed",
              "range": true,
              "refId": "failed"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"restarted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "restarted",
              "range": true,
              "refId": "restarted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"} or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"} offset $__interval + last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"}[999d])) - (1 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"} offset $__interval or 0 * mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"}) or last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"}[999d]) unless last_over_time(mjs_work_unit_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"task\",event=\"deleted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "deleted",
              "range": true,
              "refId": "deleted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Task Events [$user]",
          "type": "timeseries"
        }
      ],
      "title": "Usage",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 31,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Worker-time",
                "axisPlacement": "auto",
                "axisSoftMax": 60,
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "other"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "lt",
                    "reducer": "allValues",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "-1": {
                            "index": 0,
                            "text": "⠀"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "⠀"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 95
          },
          "id": 32,
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "always",
            "stacking": "none",
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk($top, round(sum by (user) ((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d])))) > 0)\nor (-1 * absent(topk($top, round(sum by (user) ((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d])))) > 0)) and sum(mjs_up{instance=~\"$jobmanager\"}))",
              "instant": true,
              "legendFormat": "{{user}}",
              "range": false,
              "refId": "top"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "round(sum(round(sum by (user) ((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d])))) > 0 unless topk($top, round(sum by (user) ((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\"}[999d])))) > 0))) > 0",
              "hide": false,
              "instant": true,
              "legendFormat": "other",
              "range": false,
              "refId": "other"
            }
          ],
          "title": "Top Users [$user]",
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "s"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 95
          },
          "id": 33,
          "options": {
            "displayLabels": [
              "percent",
              "name"
            ],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "# NOTE: Also include 0 values for all currently supported versions if no data for them so that we can display them in the legend (only)\nround(sum by (version) ((1 * mjs_job_history_times_total{instance=~\"$jobmanager\", user=~\"$user\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\", user=~\"$user\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\", user=~\"$user\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\", user=~\"$user\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\", user=~\"$user\"}[999d])))) > 0 or 0 * sum by (version) (mjs_versions)",
              "instant": true,
              "legendFormat": "{{version}}",
              "range": false,
              "refId": "data"
            }
          ],
          "title": "MATLAB Version [$user]",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "s"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 103
          },
          "id": 34,
          "options": {
            "displayLabels": [
              "percent",
              "name"
            ],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "# NOTE: Also include 0 values for all job types if no data for them so that we can display them in the legend (only)\nround(sum((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"independent\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"independent\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"independent\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"independent\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"independent\"}[999d])))) > 0 or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": true,
              "legendFormat": "independent",
              "range": false,
              "refId": "independent"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "# NOTE: Also include 0 values for all currently supported versions if no data for them so that we can display them in the legend (only)\nround(sum((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"pool\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"pool\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"pool\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"pool\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"pool\"}[999d])))) > 0 or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "batch_pool",
              "range": false,
              "refId": "batch pool"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "# NOTE: Also include 0 values for all currently supported versions if no data for them so that we can display them in the legend (only)\nround(sum((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"spmd\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"spmd\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"spmd\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"spmd\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"batch\",type=\"spmd\"}[999d])))) > 0 or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "spmd",
              "range": false,
              "refId": "spmd"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "# NOTE: Also include 0 values for all currently supported versions if no data for them so that we can display them in the legend (only)\nround(sum((1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"interactive\",type=\"parpool\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"interactive\",type=\"parpool\"}[999d] @ ${__to:date:seconds})) - (1 * mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"interactive\",type=\"parpool\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"interactive\",type=\"parpool\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_job_history_times_total{instance=~\"$jobmanager\",user=~\"$user\",mode=\"interactive\",type=\"parpool\"}[999d])))) > 0 or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "parpool",
              "range": false,
              "refId": "parpool"
            }
          ],
          "title": "Job Type [$user]",
          "type": "piechart"
        }
      ],
      "title": "Auditing",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 35,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 0.95
                  },
                  {
                    "color": "green",
                    "value": 0.99
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 3,
            "x": 0,
            "y": 96
          },
          "id": 36,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg_over_time(((sum(mjs_up{instance=~\"$jobmanager\"}) or 0 * sum(last_over_time(mjs_up[999d])))[5m:5s]))",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "uptime"
            }
          ],
          "title": "% uptime for 5 min",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 0.95
                  },
                  {
                    "color": "green",
                    "value": 0.99
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 3,
            "x": 3,
            "y": 96
          },
          "id": 37,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg_over_time(((sum(mjs_up{instance=~\"$jobmanager\"}) or 0 * sum(last_over_time(mjs_up[999d])))[1h:5s]))",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "uptime"
            }
          ],
          "title": "% uptime for 1 hour",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 0.95
                  },
                  {
                    "color": "green",
                    "value": 0.99
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 3,
            "x": 6,
            "y": 96
          },
          "id": 38,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg_over_time(((sum(mjs_up{instance=~\"$jobmanager\"}) or 0 * sum(last_over_time(mjs_up[999d])))[1d:1m]))",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "uptime"
            }
          ],
          "title": "% uptime for 1 day",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 0.95
                  },
                  {
                    "color": "green",
                    "value": 0.99
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 3,
            "x": 9,
            "y": 96
          },
          "id": 39,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg_over_time(((sum(mjs_up{instance=~\"$jobmanager\"}) or 0 * sum(last_over_time(mjs_up[999d])))[7d:10m]))",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "uptime"
            }
          ],
          "title": "% uptime for 1 week",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Size",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 30,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "used"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "total"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillBelowTo",
                    "value": "used"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "maximum"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillBelowTo",
                    "value": "total"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 96
          },
          "id": 42,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_process_memory{type=\"max\", instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "maximum",
              "range": true,
              "refId": "max"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_process_memory{type=\"total\", instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "total",
              "range": true,
              "refId": "total"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_process_memory{type=\"used\", instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "used",
              "range": true,
              "refId": "used"
            }
          ],
          "title": "Job Manager Memory",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "fixed"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "red",
                      "index": 0,
                      "text": "DOWN"
                    },
                    "1": {
                      "color": "green",
                      "index": 1,
                      "text": "UP"
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 9,
            "x": 0,
            "y": 100
          },
          "id": 40,
          "maxDataPoints": 48,
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "never",
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_up{instance=~\"$jobmanager\"}) or 0 * sum(last_over_time(mjs_up[999d]))",
              "instant": false,
              "legendFormat": "job manager",
              "range": true,
              "refId": "status"
            }
          ],
          "title": "Status",
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 10,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 1
                  },
                  {
                    "color": "red",
                    "value": 5
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 3,
            "x": 9,
            "y": 100
          },
          "id": 41,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "sum"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d])) - (sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d] offset $__range)) or (1 + 0 * sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d]))))",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "restarts"
            }
          ],
          "title": "Restarts",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 2,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 104
          },
          "id": 43,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "((1 + 0 * sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d]))) - (1 + 0 * sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d] offset $__interval)) or 0 * sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d])))) and sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "start",
              "range": true,
              "refId": "start"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "((sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d])) - 1) - ((sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d] offset $__interval)) - 1) or 0 * sum(last_over_time(mjs_up{instance=~\"$jobmanager\"}[999d])))) and sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "restart",
              "range": true,
              "refId": "restart"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Job Manager Events",
          "type": "timeseries"
        }
      ],
      "title": "Process",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 44,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 8,
            "x": 0,
            "y": 25
          },
          "id": 45,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "/^value$/",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (value) (mjs_scheduling_algorithm{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "algorithm"
            }
          ],
          "title": "Scheduling Algorithm",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "NO"
                    },
                    "1": {
                      "index": 1,
                      "text": "YES"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 25
          },
          "id": 47,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_resizable{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Auto-Resizing",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "operating system"
                },
                "properties": [
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "0": {
                            "index": 2,
                            "text": "any"
                          },
                          "1": {
                            "index": 3,
                            "text": "same"
                          },
                          "-1": {
                            "index": 1,
                            "text": "-"
                          },
                          "-999": {
                            "index": 0,
                            "text": "-"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "worker(s)"
                },
                "properties": [
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "0": {
                            "index": 3,
                            "text": "-"
                          },
                          "-999": {
                            "index": 2,
                            "text": "-"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "pattern": "(\\d+),2147483647",
                          "result": {
                            "index": 0,
                            "text": "$1 to ∞"
                          }
                        },
                        "type": "regex"
                      },
                      {
                        "options": {
                          "pattern": "(\\d+),(\\d+)",
                          "result": {
                            "index": 1,
                            "text": "$1 to $2"
                          }
                        },
                        "type": "regex"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "user"
                },
                "properties": [
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "from": -999,
                          "result": {
                            "index": 0,
                            "text": "-"
                          },
                          "to": -999
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "pattern": "(.+)",
                          "result": {
                            "index": 1,
                            "text": "$1"
                          }
                        },
                        "type": "regex"
                      },
                      {
                        "options": {
                          "from": 1,
                          "result": {
                            "color": "transparent",
                            "index": 2,
                            "text": "⠀"
                          },
                          "to": 1
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "index": 3,
                            "text": "-"
                          },
                          "to": 0
                        },
                        "type": "range"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 4,
            "w": 12,
            "x": 12,
            "y": 25
          },
          "id": 46,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "/.*/",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-999 * (sum(mjs_blocked_queue_item_updating{instance=~\"$jobmanager\"}) == 1)",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "updating"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum by (user) (mjs_blocked_queue_item_user{instance=~\"$jobmanager\"}) == 1)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "user",
              "range": false,
              "refId": "user"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_blocked_queue_item_requirements{instance=~\"$jobmanager\",info=\"min_workers\"}) or -1 * sum(mjs_up{instance=~\"$jobmanager\"})) and sum(mjs_blocked_queue_item_updating{instance=~\"$jobmanager\"}) == 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "min",
              "range": false,
              "refId": "min"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_blocked_queue_item_requirements{instance=~\"$jobmanager\",info=\"max_workers\"}) or -1 * sum(mjs_up{instance=~\"$jobmanager\"})) and sum(mjs_blocked_queue_item_updating{instance=~\"$jobmanager\"}) == 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "max",
              "range": false,
              "refId": "max"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(sum(mjs_blocked_queue_item_requirements{instance=~\"$jobmanager\",info=\"same_type\"}) or -1 * sum(mjs_up{instance=~\"$jobmanager\"})) and sum(mjs_blocked_queue_item_updating{instance=~\"$jobmanager\"}) == 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "sameType",
              "range": false,
              "refId": "sameType"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "zero"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-1 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "minusone"
            }
          ],
          "title": " Next (Blocked) Queue Item",
          "transformations": [
            {
              "id": "joinByField",
              "options": {}
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "user2",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value #updating",
                    "user",
                    "Value #zero"
                  ],
                  "reducer": "firstNotNull"
                },
                "replaceFields": false
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "min2",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value #updating",
                    "Value #min",
                    "Value #minusone",
                    "Value #zero"
                  ],
                  "reducer": "firstNotNull"
                },
                "replaceFields": false
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "max2",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value #updating",
                    "Value #max",
                    "Value #minusone",
                    "Value #zero"
                  ],
                  "reducer": "firstNotNull"
                }
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "operating system",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value #updating",
                    "Value #sameType",
                    "Value #minusone"
                  ],
                  "reducer": "firstNotNull"
                }
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "worker(s)",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "min2",
                    "max2"
                  ],
                  "reducer": "uniqueValues"
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value #max": true,
                  "Value #min": true,
                  "Value #minusone": true,
                  "Value #sameType": true,
                  "Value #updating": true,
                  "Value #user": true,
                  "Value #zero": true,
                  "max2": true,
                  "min2": true,
                  "os": false,
                  "user": true,
                  "user2": false
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 3,
                  "Value #max": 8,
                  "Value #min": 7,
                  "Value #sameType": 2,
                  "Value #updating": 4,
                  "Value #user": 6,
                  "Value #zero": 9,
                  "max2": 11,
                  "min2": 10,
                  "user": 5,
                  "user2": 0,
                  "worker(s)": 1
                },
                "renameByName": {
                  "Time": "",
                  "Value #sameType": "",
                  "user2": "user",
                  "workers": ""
                }
              }
            },
            {
              "id": "convertFieldType",
              "options": {
                "conversions": [
                  {
                    "destinationType": "string",
                    "targetField": "worker(s)"
                  }
                ],
                "fields": {}
              }
            }
          ],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Workers",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "busy"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "connected"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillBelowTo",
                    "value": "busy"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "maximum"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillBelowTo",
                    "value": "connected"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "desired"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 29
          },
          "id": 49,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "# NOTE: Leave out default value of 0 so that if the cluster is non-resizable, no line is shown\nsum(mjs_workers{type=\"max\", instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "maximum",
              "range": true,
              "refId": "maximum"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "# NOTE: Leave out default value of 0 so that if the cluster is non-resizable, no line is shown\nsum(mjs_workers{type=\"desired\", instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "desired",
              "range": true,
              "refId": "desired"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "((sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=~\"busy|idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=~\"busy|idle\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})))",
              "hide": false,
              "instant": false,
              "legendFormat": "connected",
              "range": true,
              "refId": "connected"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "(sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",to=\"busy\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})) - (sum(mjs_worker_state_transitions_total{instance=~\"$jobmanager\",from=\"busy\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"}))",
              "hide": false,
              "instant": false,
              "legendFormat": "busy",
              "range": true,
              "refId": "busy"
            }
          ],
          "title": "Workers",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Items",
                "axisPlacement": "auto",
                "axisSoftMax": 10,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 20
                  },
                  {
                    "color": "green",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 29
          },
          "id": 50,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_queue{instance=~\"$jobmanager\",user=~\"$user\",type=\"communicating_job\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "communicating_job",
              "range": true,
              "refId": "communicating job"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_queue{instance=~\"$jobmanager\",user=~\"$user\",type=\"independent_task\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "independent_task",
              "range": true,
              "refId": "independent task"
            }
          ],
          "title": "Queue [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "axisSoftMax": 100,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "scheme",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 10
                  },
                  {
                    "color": "red",
                    "value": 50
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 37
          },
          "id": 51,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "load",
              "range": true,
              "refId": "load"
            }
          ],
          "title": "Scheduler",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "0.1"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 0.1 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "0.2"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 0.2 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "0.5"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 0.5 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "1.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "2.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 2 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "5.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 5 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "10.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 10 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "20.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 20 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "50.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 50 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "100.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 100 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "+Inf"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "more"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 37
          },
          "id": 52,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showUnfilled": false,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (le) (1 * mjs_scheduling_times_bucket{instance=~\"$jobmanager\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_scheduling_times_bucket{instance=~\"$jobmanager\"}[999d] @ ${__to:date:seconds})) - sum by (le) (1 * mjs_scheduling_times_bucket{instance=~\"$jobmanager\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_scheduling_times_bucket{instance=~\"$jobmanager\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_scheduling_times_bucket{instance=~\"$jobmanager\"}[999d]))",
              "format": "heatmap",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "times"
            }
          ],
          "title": "Scheduling Times [$user]",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "axisSoftMax": 100,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "scheme",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 10
                  },
                  {
                    "color": "red",
                    "value": 50
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 45
          },
          "id": 53,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_task_dispatches_total{instance=~\"$jobmanager\",user=~\"$user\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "load",
              "range": true,
              "refId": "load"
            }
          ],
          "title": "Task Dispatcher [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "For period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "1.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "2.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 2 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "5.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 5 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "10.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 10 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "20.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 20 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "50.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 50 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "100.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 100 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "200.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 200 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "500.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 500 ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "1000.0"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "< 1 sec"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "+Inf"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "more"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 45
          },
          "id": 54,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showUnfilled": false,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (le) (1 * mjs_task_dispatch_times_bucket{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__to:date:seconds} or 1 * last_over_time(mjs_task_dispatch_times_bucket{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__to:date:seconds})) - sum by (le) (1 * mjs_task_dispatch_times_bucket{instance=~\"$jobmanager\",user=~\"$user\"} @ ${__from:date:seconds} or 1 * last_over_time(mjs_task_dispatch_times_bucket{instance=~\"$jobmanager\",user=~\"$user\"}[999d] @ ${__from:date:seconds}) or 0 * last_over_time(mjs_task_dispatch_times_bucket{instance=~\"$jobmanager\",user=~\"$user\"}[999d]))",
              "format": "heatmap",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "times"
            }
          ],
          "title": "Task Dispatch Times [$user]",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 53
          },
          "id": 55,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_added\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "worker_added",
              "range": true,
              "refId": "worker_added"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_busy\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "worker_busy",
              "range": true,
              "refId": "worker_busy"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_idle\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "worker_idle",
              "range": true,
              "refId": "worker_idle"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"worker_removed\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "worker_removed",
              "range": true,
              "refId": "worker_removed"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_queued\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "item_queued",
              "range": true,
              "refId": "item_queued"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"item_dequeued\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "item_dequeued",
              "range": true,
              "refId": "item_dequeued"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_promoted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "job_promoted",
              "range": true,
              "refId": "job_promoted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"job_demoted\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "job_demoted",
              "range": true,
              "refId": "job_demoted"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"schedule_processed\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "schedule_processed",
              "range": true,
              "refId": "schedule_processed"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_paused\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "scheduler_paused",
              "range": true,
              "refId": "scheduler_paused"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"scheduler_resumed\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "scheduler_resumed",
              "range": true,
              "refId": "scheduler_resumed"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"} or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"} offset $__interval + last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"}[999d])) - (1 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"} offset $__interval or 0 * mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"}) or last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"}[999d]) unless last_over_time(mjs_scheduler_events_total{instance=~\"$jobmanager\",type=\"task_dispatched\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task_dispatched",
              "range": true,
              "refId": "task_dispatched"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Scheduler Events",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 53
          },
          "id": 56,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (type) ((1 * mjs_scheduler_errors_total{instance=~\"$jobmanager\"} or 0 * mjs_scheduler_errors_total{instance=~\"$jobmanager\"} offset $__interval + last_over_time(mjs_scheduler_errors_total{instance=~\"$jobmanager\"}[999d])) - (1 * mjs_scheduler_errors_total{instance=~\"$jobmanager\"} offset $__interval or 0 * mjs_scheduler_errors_total{instance=~\"$jobmanager\"}) or last_over_time(mjs_scheduler_errors_total{instance=~\"$jobmanager\"}[999d]) unless last_over_time(mjs_scheduler_errors_total{instance=~\"$jobmanager\"}[999d] offset $__interval))",
              "instant": false,
              "legendFormat": "{{type}}",
              "range": true,
              "refId": "error"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Scheduler Errors",
          "type": "timeseries"
        }
      ],
      "title": "Scheduler",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "id": 57,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Size",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "log": 10,
                  "type": "symlog"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "available"
                },
                "properties": [
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 98
          },
          "id": 58,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_storage{instance=~\"$jobmanager\",type=\"database\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "database",
              "range": true,
              "refId": "database"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_storage{instance=~\"$jobmanager\",type=\"large_object_files\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "large_object_files",
              "range": true,
              "refId": "large_object_files"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_storage{instance=~\"$jobmanager\",type=\"job_history\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "job_history",
              "range": true,
              "refId": "job_history"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_storage{instance=~\"$jobmanager\",type=\"logs\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "logs",
              "range": true,
              "refId": "logs"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum (mjs_storage{instance=~\"$jobmanager\",type=\"available\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "available",
              "range": true,
              "refId": "available"
            }
          ],
          "title": "Disk Space",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Size",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "log": 10,
                  "type": "symlog"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "other"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#c0c0c0",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 98
          },
          "id": 59,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"job_attached_files\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "job_attached_files",
              "range": true,
              "refId": "job_attached_files"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"job_data\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "job_data",
              "range": true,
              "refId": "job_data"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"job_file_value_store\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "job_file_value_store",
              "range": true,
              "refId": "job_file_value_store"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"task_function\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task_function",
              "range": true,
              "refId": "task_function"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"task_input\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task_input",
              "range": true,
              "refId": "task_input"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"task_output\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task_output",
              "range": true,
              "refId": "task_output"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"task_diary\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task_diary",
              "range": true,
              "refId": "task_diary"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"task_warnings\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task_warnings",
              "range": true,
              "refId": "task_warnings"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_data{instance=~\"$jobmanager\",user=~\"$user\",type=\"other\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "other",
              "range": true,
              "refId": "other"
            }
          ],
          "title": "Job and Task Data [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "log": 10,
                  "type": "symlog"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 106
          },
          "id": 60,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_disk_activity_total{instance=~\"$jobmanager\",type=\"read\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "read",
              "range": true,
              "refId": "read"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_disk_activity_total{instance=~\"$jobmanager\",type=\"write\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "write",
              "range": true,
              "refId": "write"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_disk_activity_total{instance=~\"$jobmanager\",type=\"delete\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "delete",
              "range": true,
              "refId": "delete"
            }
          ],
          "title": "Disk Activity",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 5000
                  },
                  {
                    "color": "red",
                    "value": 10000
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 106
          },
          "id": 61,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_database_access_total{instance=~\"$jobmanager\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "load",
              "range": true,
              "refId": "load"
            }
          ],
          "title": "Database Activity",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 114
          },
          "id": 62,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (type) ((1 * mjs_database_access_total{instance=~\"$jobmanager\"} or 0 * mjs_database_access_total{instance=~\"$jobmanager\"} offset $__interval + last_over_time(mjs_database_access_total{instance=~\"$jobmanager\"}[999d])) - (1 * mjs_database_access_total{instance=~\"$jobmanager\"} offset $__interval or 0 * mjs_database_access_total{instance=~\"$jobmanager\"}) or last_over_time(mjs_database_access_total{instance=~\"$jobmanager\"}[999d]) unless last_over_time(mjs_database_access_total{instance=~\"$jobmanager\"}[999d] offset $__interval))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "events"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " zero",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Database Operations",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 114
          },
          "id": 63,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (type) ((1 * mjs_storage_errors_total{instance=~\"$jobmanager\"} or 0 * mjs_storage_errors_total{instance=~\"$jobmanager\"} offset $__interval + last_over_time(mjs_storage_errors_total{instance=~\"$jobmanager\"}[999d])) - (1 * mjs_storage_errors_total{instance=~\"$jobmanager\"} offset $__interval or 0 * mjs_storage_errors_total{instance=~\"$jobmanager\"}) or last_over_time(mjs_storage_errors_total{instance=~\"$jobmanager\"}[999d]) unless last_over_time(mjs_storage_errors_total{instance=~\"$jobmanager\"}[999d] offset $__interval))",
              "instant": false,
              "legendFormat": "{{type}}",
              "range": true,
              "refId": "error"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Storage Errors",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Items",
                "axisPlacement": "auto",
                "axisSoftMax": 10000,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "scheme",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 5000
                  },
                  {
                    "color": "red",
                    "value": 8000
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 122
          },
          "id": 64,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_cache{instance=~\"$jobmanager\",type=\"job\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "job",
              "range": true,
              "refId": "job"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(mjs_work_unit_cache{instance=~\"$jobmanager\",type=\"task\"}) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task",
              "range": true,
              "refId": "task"
            }
          ],
          "title": "Cache",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Percentage",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "scheme",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "max": 1,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 0.1
                  },
                  {
                    "color": "red",
                    "value": 0.5
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 122
          },
          "id": 65,
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(increase(mjs_work_unit_cache_queries_total{instance=~\"$jobmanager\",type=\"job\",result=\"failure\"}[$__rate_interval])) / clamp_min(sum(increase(mjs_work_unit_cache_queries_total{instance=~\"$jobmanager\",type=\"job\"}[$__rate_interval])),1) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "job",
              "range": true,
              "refId": "job"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(increase(mjs_work_unit_cache_queries_total{instance=~\"$jobmanager\",type=\"task\",result=\"failure\"}[$__rate_interval])) / clamp_min(sum(increase(mjs_work_unit_cache_queries_total{instance=~\"$jobmanager\",type=\"task\"}[$__rate_interval])),1) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "task",
              "range": true,
              "refId": "task"
            }
          ],
          "title": "Cache Misses",
          "type": "timeseries"
        }
      ],
      "title": "Storage",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 26
      },
      "id": 66,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "log": 10,
                  "type": "symlog"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 27
          },
          "id": 67,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_data_transfer_total{instance=~\"$jobmanager\",type=\"upload\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "upload",
              "range": true,
              "refId": "upload"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_data_transfer_total{instance=~\"$jobmanager\",type=\"download\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "download",
              "range": true,
              "refId": "download"
            }
          ],
          "title": "Data Transfer",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Rate",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 27
          },
          "id": 68,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "incoming",
              "range": true,
              "refId": "incoming"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(rate(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"}[$__rate_interval])) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "outgoing",
              "range": true,
              "refId": "outgoing"
            }
          ],
          "title": "Network Call Activity",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "id": 69,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (method) ((1 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"} or 0 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"} offset $__interval + last_over_time(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"}[999d])) - (1 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"} offset $__interval or 0 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"}) or last_over_time(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"}[999d]) unless last_over_time(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"incoming\"}[999d] offset $__interval))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "events"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " zero",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Network Calls (Incoming)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "id": 70,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (method) ((1 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"} or 0 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"} offset $__interval + last_over_time(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"}[999d])) - (1 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"} offset $__interval or 0 * mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"}) or last_over_time(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"}[999d]) unless last_over_time(mjs_network_calls_total{instance=~\"$jobmanager\",direction=\"outgoing\"}[999d] offset $__interval))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "events"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " zero",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Network Calls (Outgoing)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 43
          },
          "id": 71,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (type) ((1 * mjs_network_errors_total{instance=~\"$jobmanager\"} or 0 * mjs_network_errors_total{instance=~\"$jobmanager\"} offset $__interval + last_over_time(mjs_network_errors_total{instance=~\"$jobmanager\"}[999d])) - (1 * mjs_network_errors_total{instance=~\"$jobmanager\"} offset $__interval or 0 * mjs_network_errors_total{instance=~\"$jobmanager\"}) or last_over_time(mjs_network_errors_total{instance=~\"$jobmanager\"}[999d]) unless last_over_time(mjs_network_errors_total{instance=~\"$jobmanager\"}[999d] offset $__interval))",
              "instant": false,
              "legendFormat": "{{type}}",
              "range": true,
              "refId": "error"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Network Errors",
          "type": "timeseries"
        }
      ],
      "title": "Communication",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 72,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "fieldMinMax": false,
              "mappings": [],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "orange",
                    "value": 1
                  },
                  {
                    "color": "yellow",
                    "value": 2
                  },
                  {
                    "color": "green",
                    "value": 3
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 28
          },
          "id": 73,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_security_level{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "security level"
            }
          ],
          "title": "Security Level",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 4,
            "y": 28
          },
          "id": 74,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "/^user$/",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (user) (mjs_admin_user{instance=~\"$jobmanager\"}) == 1",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "user"
            }
          ],
          "title": "Admin User",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "fieldMinMax": false,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "red",
                      "index": 0,
                      "text": "NO"
                    },
                    "1": {
                      "color": "green",
                      "index": 1,
                      "text": "YES"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 28
          },
          "id": 76,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_secure_communication{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "secure communication"
            }
          ],
          "title": "Secure Communication",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 28
          },
          "id": 80,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"} or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"} offset $__interval + last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}[999d])) - (1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"} offset $__interval or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}) or last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}[999d]) unless last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "registration",
              "range": true,
              "refId": "registration"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"} or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"} offset $__interval + last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"}[999d])) - (1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"} offset $__interval or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"}) or last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"}[999d]) unless last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"authentication\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "authentication",
              "range": true,
              "refId": "authentication"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"} or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"} offset $__interval + last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"}[999d])) - (1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"} offset $__interval or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"}) or last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"}[999d]) unless last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"ldap_authentication\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "ldap_authentication",
              "range": true,
              "refId": "ldap_authentication"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum((1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"} or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"} offset $__interval + last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"}[999d])) - (1 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"} offset $__interval or 0 * mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"}) or last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"}[999d]) unless last_over_time(mjs_security_events_total{instance=~\"$jobmanager\",user=~\"$user\",type=\"password_change\"}[999d] offset $__interval)) or 0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "password_change",
              "range": true,
              "refId": "password_change"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Activity [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "fixed"
              },
              "fieldMinMax": false,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "NO"
                    },
                    "1": {
                      "index": 1,
                      "text": "YES"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 32
          },
          "id": 77,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_require_client_certificate{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "require client certificate"
            }
          ],
          "title": "Require Client Certificate",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "fixed"
              },
              "fieldMinMax": false,
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "OFF"
                    },
                    "1": {
                      "index": 1,
                      "text": "ON"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 4,
            "y": 32
          },
          "id": 78,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_ldap_server_authentication{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "ldap"
            }
          ],
          "title": "LDAP Server Authentication",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "As of ${__to:date:YYYY-MM-DD HH:mm:ss}",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "fieldMinMax": false,
              "mappings": [],
              "noValue": "⠀",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 32
          },
          "id": 79,
          "options": {
            "colorMode": "none",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(mjs_users{instance=~\"$jobmanager\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "num users"
            }
          ],
          "title": "Registered Users",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 36
          },
          "id": 81,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (user) ((1 * mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"} or 0 * mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"} offset $__interval + last_over_time(mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"}[999d])) - (1 * mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"} offset $__interval or 0 * mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"}) or last_over_time(mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"}[999d]) unless last_over_time(mjs_authentication_failures_total{instance=~\"$jobmanager\",user=~\"$user\",type=~\"authentication|ldap_authentication\"}[999d] offset $__interval)) or 0 * sum by (user) (mjs_users{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "{{user}}",
              "range": true,
              "refId": "all"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Authentication Failures [$user]",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "Over period [${__from:date:YYYY-MM-DD HH:mm:ss} to ${__to:date:YYYY-MM-DD HH:mm:ss}]",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Occurrences",
                "axisPlacement": "auto",
                "axisSoftMax": 4,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 25,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepAfter",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "zero"
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "transparent",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 36
          },
          "id": 82,
          "maxDataPoints": 64,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum by (user) ((1 * mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"} or 0 * mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"} offset $__interval + last_over_time(mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}[999d])) - (1 * mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"} offset $__interval or 0 * mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}) or last_over_time(mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}[999d]) unless last_over_time(mjs_authorization_failures{instance=~\"$jobmanager\",user=~\"$user\",type=\"registration\"}[999d] offset $__interval)) or 0 * sum by (user) (mjs_users{instance=~\"$jobmanager\"})",
              "instant": false,
              "legendFormat": "{{user}}",
              "range": true,
              "refId": "all"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "0 * sum(mjs_up{instance=~\"$jobmanager\"})",
              "hide": false,
              "instant": false,
              "legendFormat": " ",
              "range": true,
              "refId": "zero"
            }
          ],
          "title": "Authorization Failures [$user]",
          "type": "timeseries"
        }
      ],
      "title": "Security",
      "type": "row"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 39,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "default",
          "value": "default"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Datasource",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {},
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(up{job=\"mjs\"},instance)",
        "hide": 0,
        "includeAll": false,
        "label": "Job Manager",
        "multi": false,
        "name": "jobmanager",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(up{job=\"mjs\"},instance)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      },
      {
        "current": {},
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(mjs_users,user)",
        "hide": 0,
        "includeAll": true,
        "label": "User",
        "multi": true,
        "name": "user",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(mjs_users,user)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      },
      {
        "current": {
          "selected": false,
          "text": "8",
          "value": "8"
        },
        "hide": 2,
        "includeAll": false,
        "multi": false,
        "name": "top",
        "options": [
          {
            "selected": false,
            "text": "1",
            "value": "1"
          },
          {
            "selected": false,
            "text": "2",
            "value": "2"
          },
          {
            "selected": false,
            "text": "3",
            "value": "3"
          },
          {
            "selected": false,
            "text": "4",
            "value": "4"
          },
          {
            "selected": false,
            "text": "5",
            "value": "5"
          },
          {
            "selected": false,
            "text": "6",
            "value": "6"
          },
          {
            "selected": false,
            "text": "7",
            "value": "7"
          },
          {
            "selected": true,
            "text": "8",
            "value": "8"
          }
        ],
        "query": "1,2,3,4,5,6,7,8",
        "queryValue": "",
        "skipUrlSync": false,
        "type": "custom"
      }
    ]
  },
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "timeRangeUpdatedDuringEditOrView": false,
  "timepicker": {},
  "timezone": "browser",
  "title": "MJS",
  "uid": "edmp7lwlyfrpca",
  "version": 1,
  "weekStart": ""
}
